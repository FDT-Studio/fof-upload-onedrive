{"version":3,"file":"forum.js","mappings":"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","sources":["webpack://fdt-studio-fof-upload-onedrive/./node_modules/pdfobject/pdfobject.js","webpack://fdt-studio-fof-upload-onedrive/./node_modules/@babel/runtime/helpers/regeneratorRuntime.js","webpack://fdt-studio-fof-upload-onedrive/./node_modules/@babel/runtime/helpers/typeof.js","webpack://fdt-studio-fof-upload-onedrive/./node_modules/@babel/runtime/regenerator/index.js","webpack://fdt-studio-fof-upload-onedrive/webpack/bootstrap","webpack://fdt-studio-fof-upload-onedrive/webpack/runtime/compat get default export","webpack://fdt-studio-fof-upload-onedrive/webpack/runtime/define property getters","webpack://fdt-studio-fof-upload-onedrive/webpack/runtime/hasOwnProperty shorthand","webpack://fdt-studio-fof-upload-onedrive/webpack/runtime/make namespace object","webpack://fdt-studio-fof-upload-onedrive/./node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js","webpack://fdt-studio-fof-upload-onedrive/external root \"flarum.core.compat['forum/app']\"","webpack://fdt-studio-fof-upload-onedrive/./node_modules/external-load/index.js","webpack://fdt-studio-fof-upload-onedrive/./src/forum/extensions.js","webpack://fdt-studio-fof-upload-onedrive/external root \"flarum.core.compat['forum/components/CommentPost']\"","webpack://fdt-studio-fof-upload-onedrive/external root \"flarum.core.compat['common/extend']\"","webpack://fdt-studio-fof-upload-onedrive/external root \"flarum.core.compat['forum/components/Post']\"","webpack://fdt-studio-fof-upload-onedrive/./src/forum/index.js","webpack://fdt-studio-fof-upload-onedrive/./src/forum/downloadButtonInteraction.js"],"sourcesContent":["/**\n *  PDFObject v2.3.0\n *  https://github.com/pipwerks/PDFObject\n *  @license\n *  Copyright (c) 2008-2024 Philip Hutchison\n *  MIT-style license: http://pipwerks.mit-license.org/\n *  UMD module pattern from https://github.com/umdjs/umd/blob/master/templates/returnExports.js\n */\n\n(function (root, factory) {\n    if (typeof define === \"function\" && define.amd) {\n        // AMD. Register as an anonymous module.\n        define([], factory);\n    } else if (typeof module === \"object\" && module.exports) {\n        // Node. Does not work with strict CommonJS, but\n        // only CommonJS-like environments that support module.exports,\n        // like Node.\n        module.exports = factory();\n    } else {\n        // Browser globals (root is window)\n        root.PDFObject = factory();\n  }\n}(this, function () {\n\n    \"use strict\";\n\n    //PDFObject is designed for client-side (browsers), not server-side (node)\n    //Will choke on undefined navigator and window vars when run on server\n    //Return boolean false and exit function when running server-side\n\n    if(typeof window === \"undefined\" || window.navigator === undefined || window.navigator.userAgent === undefined){ return false; }\n\n    let pdfobjectversion = \"2.3.0\";\n    let win = window;\n    let nav = win.navigator;\n    let ua = nav.userAgent;\n    let suppressConsole = false;\n\n    //Fallback validation when navigator.pdfViewerEnabled is not supported\n    let isModernBrowser = function (){\n\n        /*\n           userAgent sniffing is not the ideal path, but most browsers revoked the ability to check navigator.mimeTypes \n           for security purposes. As of 2023, browsers have begun implementing navigator.pdfViewerEnabled, but older versions\n           do not have navigator.pdfViewerEnabled or the ability to check navigator.mimeTypes. We're left with basic browser \n           sniffing and assumptions of PDF support based on browser vendor.\n        */\n\n        //Chromium has provided native PDF support since 2011.\n        //Most modern browsers use Chromium under the hood: Google Chrome, Microsoft Edge, Opera, Brave, Vivaldi, Arc, and more.\n        //Chromium uses the PDFium rendering engine, which is based on Foxit's PDF rendering engine.\n        //Note that MS Edge opts to use a different PDF rendering engine. As of 2024, Edge uses a version of Adobe's Reader\n        let isChromium = (win.chrome !== undefined);\n\n        //Safari on macOS has provided native PDF support since 2009. \n        //This code snippet also detects the DuckDuckGo browser, which uses Safari/Webkit under the hood.\n        let isSafari = (win.safari !== undefined || (nav.vendor !== undefined && /Apple/.test(nav.vendor) && /Safari/.test(ua)));\n\n        //Firefox has provided PDF support via PDFJS since 2013.\n        let isFirefox = (win.Mozilla !== undefined || /irefox/.test(ua));\n\n        return isChromium || isSafari || isFirefox;  \n\n    };\n\n    /*\n       Special handling for Internet Explorer 11.\n       Check for ActiveX support, then whether \"AcroPDF.PDF\" or \"PDF.PdfCtrl\" are valid.\n       IE11 uses ActiveX for Adobe Reader and other PDF plugins, but window.ActiveXObject will evaluate to false. \n       (\"ActiveXObject\" in window) evaluates to true.\n       MS Edge does not support ActiveX so this test will evaluate false for MS Edge.\n    */\n    let validateAX = function (type){\n        var ax = null;\n        try {\n            ax = new ActiveXObject(type);\n        } catch (e) {\n            //ensure ax remains null when ActiveXObject attempt fails\n            ax = null;\n        }\n        return !!ax; //convert resulting object to boolean\n    };\n\n    let hasActiveXPDFPlugin = function (){ return (\"ActiveXObject\" in win) && (validateAX(\"AcroPDF.PDF\") || validateAX(\"PDF.PdfCtrl\")) };\n\n    let checkSupport = function (){\n\n        //Safari on iPadOS doesn't report as 'mobile' when requesting desktop site, yet still fails to embed PDFs\n        let isSafariIOSDesktopMode = (nav.platform !== undefined && nav.platform === \"MacIntel\" && nav.maxTouchPoints !== undefined && nav.maxTouchPoints > 1);\n\n        let isMobileDevice = (isSafariIOSDesktopMode || /Mobi|Tablet|Android|iPad|iPhone/.test(ua));\n\n        //As of June 2023, no mobile browsers properly support inline PDFs. If mobile, just say no.\n        if(isMobileDevice){ return false; }\n        \n        //Modern browsers began supporting navigator.pdfViewerEnabled in late 2022 and early 2023.\n        let supportsPDFVE = (typeof nav.pdfViewerEnabled === \"boolean\");\n\n        //If browser supports nav.pdfViewerEnabled and is explicitly saying PDFs are NOT supported (e.g. PDFJS disabled by user in Firefox), respect it.\n        if(supportsPDFVE && !nav.pdfViewerEnabled){ return false; }\n\n        return (supportsPDFVE && nav.pdfViewerEnabled) || isModernBrowser() || hasActiveXPDFPlugin();\n\n    };\n\n    //Determines whether PDF support is available\n    let supportsPDFs = checkSupport();\n\n    //Create a fragment identifier for using PDF Open parameters when embedding PDF\n    let buildURLFragmentString = function(pdfParams){\n\n        let string = \"\";\n        let prop;\n        let paramArray = [];\n        let fdf = \"\";\n        \n        //The comment, viewrect, and highlight parameters require page to be set first. \n\n        //Check to ensure page is used if comment, viewrect, or highlight are specified\n        if(pdfParams.comment || pdfParams.viewrect || pdfParams.highlight){\n\n            if(!pdfParams.page){\n                \n                //If page is not set, use the first page\n                pdfParams.page = 1;\n                \n                //Inform user that page needs to be set properly\n                embedError(\"The comment, viewrect, and highlight parameters require a page parameter, but none was specified. Defaulting to page 1.\");\n            \n            }\n\n        }\n\n        //Let's go ahead and ensure page is always the first parameter.\n        if(pdfParams.page){\n            paramArray.push(\"page=\" + encodeURIComponent(pdfParams.page));\n            delete pdfParams.page;\n        }\n\n        //FDF needs to be the last parameter in the string\n        if(pdfParams.fdf){\n            fdf = pdfParams.fdf;\n            delete pdfParams.fdf;\n        }\n        \n        //Add all other parameters, as needed\n        if(pdfParams){\n\n            for (prop in pdfParams) {\n                if (pdfParams.hasOwnProperty(prop)) {\n                    paramArray.push(encodeURIComponent(prop) + \"=\" + encodeURIComponent(pdfParams[prop]));\n                }\n            }\n\n            //Add fdf as the last parameter, if needed\n            if(fdf){\n                paramArray.push(\"fdf=\" + encodeURIComponent(fdf));\n            }\n\n            //Join all parameters in the array into a string\n            string = paramArray.join(\"&\");\n\n            //The string will be empty if no PDF Parameters were provided\n            //Only prepend the hash if the string is not empty\n            if(string){\n                string = \"#\" + string;\n            }\n\n        }\n\n        return string;\n\n    };\n\n    let embedError = function (msg){\n        if(!suppressConsole){\n            console.log(\"[PDFObject]\", msg);\n        }\n        return false;\n    };\n\n    let emptyNodeContents = function (node){\n        while(node.firstChild){\n            node.removeChild(node.firstChild);\n        }\n    };\n\n    let getTargetElement = function (targetSelector){\n\n        //Default to body for full-browser PDF\n        let targetNode = document.body;\n\n        //If a targetSelector is specified, check to see whether\n        //it's passing a selector, jQuery object, or an HTML element\n\n        if(typeof targetSelector === \"string\"){\n\n            //Is CSS selector\n            targetNode = document.querySelector(targetSelector);\n\n        } else if (win.jQuery !== undefined && targetSelector instanceof jQuery && targetSelector.length) {\n\n            //Is jQuery element. Extract HTML node\n            targetNode = targetSelector.get(0);\n\n        } else if (targetSelector.nodeType !== undefined && targetSelector.nodeType === 1){\n\n            //Is HTML element\n            targetNode = targetSelector;\n\n        }\n\n        return targetNode;\n\n    };\n\n    let convertBase64ToDownloadableLink = function (b64, filename, targetNode, fallbackHTML) {\n\n        //IE-11 safe version. More verbose than modern fetch()\n        if (window.Blob && window.URL && window.URL.createObjectURL) {\n\n            var xhr = new XMLHttpRequest();\n            xhr.open('GET', b64, true);\n            xhr.responseType = 'blob';\n            xhr.onload = function() {\n\n                if (xhr.status === 200) {\n \n                    var blob = xhr.response;\n                    var link = document.createElement('a');\n                    link.innerText = \"Download PDF\";\n                    link.href = URL.createObjectURL(blob);\n                    link.setAttribute('download', filename);\n                    targetNode.innerHTML = fallbackHTML.replace(/\\[pdflink\\]/g, link.outerHTML);\n\n                }\n\n            };\n\n            xhr.send();\n            \n        }\n\n    };\n\n\n    let generatePDFObjectMarkup = function (embedType, targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute, PDFJS_URL){\n\n        //Ensure target element is empty first\n        emptyNodeContents(targetNode);\n\n        let source = url;\n\n        if(embedType === \"pdfjs\"){ \n            //If PDFJS_URL already contains a ?, assume querystring is in place, and use an ampersand to append PDFJS's file parameter\n            let connector = (PDFJS_URL.indexOf(\"?\") !== -1) ? \"&\" : \"?\"; \n            source = PDFJS_URL + connector + \"file=\" + encodeURIComponent(url) + pdfOpenFragment;\n        } else {\n            source += pdfOpenFragment;\n        }\n\n        let el = document.createElement(\"iframe\");\n        el.className = \"pdfobject\";\n        el.type = \"application/pdf\";\n        el.title = title;\n        el.src = source;\n        el.allow = \"fullscreen\";\n        el.frameborder = \"0\";\n        if(id){ el.id = id; }\n\n        if(!omitInlineStyles){\n\n            let style = \"border: none;\";\n\n            if(targetNode !== document.body){\n                //assign width and height to target node\n                style += \"width: \" + width + \"; height: \" + height + \";\";\n            } else {\n                //this is a full-page embed, use CSS to fill the viewport\n                style += \"position: absolute; top: 0; right: 0; bottom: 0; left: 0; width: 100%; height: 100%;\";\n            }\n\n            el.style.cssText = style; \n\n        }\n\n        //Allow developer to insert custom attribute on iframe element, but ensure it does not conflict with attributes used by PDFObject\n        let reservedTokens = [\"className\", \"type\", \"title\", \"src\", \"style\", \"id\", \"allow\", \"frameborder\"];\n        if(customAttribute && customAttribute.key && reservedTokens.indexOf(customAttribute.key) === -1){\n            el.setAttribute(customAttribute.key, (typeof customAttribute.value !== \"undefined\") ? customAttribute.value : \"\");\n        }\n\n        targetNode.classList.add(\"pdfobject-container\");\n        targetNode.appendChild(el);\n\n        return targetNode.getElementsByTagName(\"iframe\")[0];\n\n    };\n\n    let embed = function(url, targetSelector, options){\n\n        //If targetSelector is not defined, convert to boolean\n        let selector = targetSelector || false;\n\n        //Ensure options object is not undefined -- enables easier error checking below\n        let opt = options || {};\n\n        //Get passed options, or set reasonable defaults\n        suppressConsole = (typeof opt.suppressConsole === \"boolean\") ? opt.suppressConsole : false;\n        let id = (typeof opt.id === \"string\") ? opt.id : \"\";\n        let page = opt.page || false;\n        let pdfOpenParams = opt.pdfOpenParams || {};\n        let fallbackLink = (typeof opt.fallbackLink === \"string\" || typeof opt.fallbackLink === \"boolean\") ? opt.fallbackLink : true;\n        let width = opt.width || \"100%\";\n        let height = opt.height || \"100%\";\n        let title = opt.title || \"Embedded PDF\";\n        let forcePDFJS = (typeof opt.forcePDFJS === \"boolean\") ? opt.forcePDFJS : false;\n        let omitInlineStyles = (typeof opt.omitInlineStyles === \"boolean\") ? opt.omitInlineStyles : false;\n        let PDFJS_URL = opt.PDFJS_URL || false;\n        let targetNode = getTargetElement(selector);\n        let pdfOpenFragment = \"\";\n        let customAttribute = opt.customAttribute || {};\n        let fallbackHTML_default = \"<p>This browser does not support inline PDFs. Please download the PDF to view it: [pdflink]</p>\";\n\n        //Ensure URL is available. If not, exit now.\n        if(typeof url !== \"string\"){ return embedError(\"URL is not valid\"); }\n\n        //If target element is specified but is not valid, exit without doing anything\n        if(!targetNode){ return embedError(\"Target element cannot be determined\"); }\n\n        //page option overrides pdfOpenParams, if found\n        if(page){ pdfOpenParams.page = page; }\n\n        //Stringify optional Adobe params for opening document (as fragment identifier)\n        pdfOpenFragment = buildURLFragmentString(pdfOpenParams);\n\n\n        // --== Do the dance: Embed attempt #1 ==--\n\n        //If the forcePDFJS option is invoked, skip everything else and embed as directed\n        if(forcePDFJS && PDFJS_URL){\n            return generatePDFObjectMarkup(\"pdfjs\", targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute, PDFJS_URL);\n        }\n \n        // --== Embed attempt #2 ==--\n\n        //Embed PDF if support is detected, or if this is a relatively modern browser \n        if(supportsPDFs){\n            return generatePDFObjectMarkup(\"iframe\", targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute);\n        }\n        \n        // --== Embed attempt #3 ==--\n        \n        //If everything else has failed and a PDFJS fallback is provided, try to use it\n        if(PDFJS_URL){\n            return generatePDFObjectMarkup(\"pdfjs\", targetNode, url, pdfOpenFragment, width, height, id, title, omitInlineStyles, customAttribute, PDFJS_URL);\n        }\n        \n        // --== PDF embed not supported! Use fallback ==-- \n\n        //Display the fallback link if available\n        if(fallbackLink){\n\n            //If a custom fallback has been provided, handle it now\n            if(typeof fallbackLink === \"string\"){\n\n                //Ensure [url] is set in custom fallback\n                targetNode.innerHTML = fallbackLink.replace(/\\[url\\]/g, url);\n\n            } else {\n\n                //If the PDF is a base64 string, convert it to a downloadable link\n                if(url.indexOf(\"data:application/pdf;base64\") !== -1){\n\n                    //Asynchronously append the link to the targetNode\n                    convertBase64ToDownloadableLink(url, \"file.pdf\", targetNode, fallbackHTML_default);\n                \n                } else {\n\n                    //Use default fallback link\n                    let link = \"<a href='\" + url + \"'>Download PDF</a>\";\n                    targetNode.innerHTML = fallbackHTML_default.replace(/\\[pdflink\\]/g, link);\n\n                }\n\n            }\n\n        }\n\n        return embedError(\"This browser does not support embedded PDFs\");\n\n    };\n\n    return {\n        embed: function (a,b,c){ return embed(a,b,c); },\n        pdfobjectversion: (function () { return pdfobjectversion; })(),\n        supportsPDFs: (function (){ return supportsPDFs; })()\n    };\n\n}));","var _typeof = require(\"./typeof.js\")[\"default\"];\nfunction _regeneratorRuntime() {\n  \"use strict\"; /*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */\n  module.exports = _regeneratorRuntime = function _regeneratorRuntime() {\n    return e;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;\n  var t,\n    e = {},\n    r = Object.prototype,\n    n = r.hasOwnProperty,\n    o = Object.defineProperty || function (t, e, r) {\n      t[e] = r.value;\n    },\n    i = \"function\" == typeof Symbol ? Symbol : {},\n    a = i.iterator || \"@@iterator\",\n    c = i.asyncIterator || \"@@asyncIterator\",\n    u = i.toStringTag || \"@@toStringTag\";\n  function define(t, e, r) {\n    return Object.defineProperty(t, e, {\n      value: r,\n      enumerable: !0,\n      configurable: !0,\n      writable: !0\n    }), t[e];\n  }\n  try {\n    define({}, \"\");\n  } catch (t) {\n    define = function define(t, e, r) {\n      return t[e] = r;\n    };\n  }\n  function wrap(t, e, r, n) {\n    var i = e && e.prototype instanceof Generator ? e : Generator,\n      a = Object.create(i.prototype),\n      c = new Context(n || []);\n    return o(a, \"_invoke\", {\n      value: makeInvokeMethod(t, r, c)\n    }), a;\n  }\n  function tryCatch(t, e, r) {\n    try {\n      return {\n        type: \"normal\",\n        arg: t.call(e, r)\n      };\n    } catch (t) {\n      return {\n        type: \"throw\",\n        arg: t\n      };\n    }\n  }\n  e.wrap = wrap;\n  var h = \"suspendedStart\",\n    l = \"suspendedYield\",\n    f = \"executing\",\n    s = \"completed\",\n    y = {};\n  function Generator() {}\n  function GeneratorFunction() {}\n  function GeneratorFunctionPrototype() {}\n  var p = {};\n  define(p, a, function () {\n    return this;\n  });\n  var d = Object.getPrototypeOf,\n    v = d && d(d(values([])));\n  v && v !== r && n.call(v, a) && (p = v);\n  var g = GeneratorFunctionPrototype.prototype = Generator.prototype = Object.create(p);\n  function defineIteratorMethods(t) {\n    [\"next\", \"throw\", \"return\"].forEach(function (e) {\n      define(t, e, function (t) {\n        return this._invoke(e, t);\n      });\n    });\n  }\n  function AsyncIterator(t, e) {\n    function invoke(r, o, i, a) {\n      var c = tryCatch(t[r], t, o);\n      if (\"throw\" !== c.type) {\n        var u = c.arg,\n          h = u.value;\n        return h && \"object\" == _typeof(h) && n.call(h, \"__await\") ? e.resolve(h.__await).then(function (t) {\n          invoke(\"next\", t, i, a);\n        }, function (t) {\n          invoke(\"throw\", t, i, a);\n        }) : e.resolve(h).then(function (t) {\n          u.value = t, i(u);\n        }, function (t) {\n          return invoke(\"throw\", t, i, a);\n        });\n      }\n      a(c.arg);\n    }\n    var r;\n    o(this, \"_invoke\", {\n      value: function value(t, n) {\n        function callInvokeWithMethodAndArg() {\n          return new e(function (e, r) {\n            invoke(t, n, e, r);\n          });\n        }\n        return r = r ? r.then(callInvokeWithMethodAndArg, callInvokeWithMethodAndArg) : callInvokeWithMethodAndArg();\n      }\n    });\n  }\n  function makeInvokeMethod(e, r, n) {\n    var o = h;\n    return function (i, a) {\n      if (o === f) throw Error(\"Generator is already running\");\n      if (o === s) {\n        if (\"throw\" === i) throw a;\n        return {\n          value: t,\n          done: !0\n        };\n      }\n      for (n.method = i, n.arg = a;;) {\n        var c = n.delegate;\n        if (c) {\n          var u = maybeInvokeDelegate(c, n);\n          if (u) {\n            if (u === y) continue;\n            return u;\n          }\n        }\n        if (\"next\" === n.method) n.sent = n._sent = n.arg;else if (\"throw\" === n.method) {\n          if (o === h) throw o = s, n.arg;\n          n.dispatchException(n.arg);\n        } else \"return\" === n.method && n.abrupt(\"return\", n.arg);\n        o = f;\n        var p = tryCatch(e, r, n);\n        if (\"normal\" === p.type) {\n          if (o = n.done ? s : l, p.arg === y) continue;\n          return {\n            value: p.arg,\n            done: n.done\n          };\n        }\n        \"throw\" === p.type && (o = s, n.method = \"throw\", n.arg = p.arg);\n      }\n    };\n  }\n  function maybeInvokeDelegate(e, r) {\n    var n = r.method,\n      o = e.iterator[n];\n    if (o === t) return r.delegate = null, \"throw\" === n && e.iterator[\"return\"] && (r.method = \"return\", r.arg = t, maybeInvokeDelegate(e, r), \"throw\" === r.method) || \"return\" !== n && (r.method = \"throw\", r.arg = new TypeError(\"The iterator does not provide a '\" + n + \"' method\")), y;\n    var i = tryCatch(o, e.iterator, r.arg);\n    if (\"throw\" === i.type) return r.method = \"throw\", r.arg = i.arg, r.delegate = null, y;\n    var a = i.arg;\n    return a ? a.done ? (r[e.resultName] = a.value, r.next = e.nextLoc, \"return\" !== r.method && (r.method = \"next\", r.arg = t), r.delegate = null, y) : a : (r.method = \"throw\", r.arg = new TypeError(\"iterator result is not an object\"), r.delegate = null, y);\n  }\n  function pushTryEntry(t) {\n    var e = {\n      tryLoc: t[0]\n    };\n    1 in t && (e.catchLoc = t[1]), 2 in t && (e.finallyLoc = t[2], e.afterLoc = t[3]), this.tryEntries.push(e);\n  }\n  function resetTryEntry(t) {\n    var e = t.completion || {};\n    e.type = \"normal\", delete e.arg, t.completion = e;\n  }\n  function Context(t) {\n    this.tryEntries = [{\n      tryLoc: \"root\"\n    }], t.forEach(pushTryEntry, this), this.reset(!0);\n  }\n  function values(e) {\n    if (e || \"\" === e) {\n      var r = e[a];\n      if (r) return r.call(e);\n      if (\"function\" == typeof e.next) return e;\n      if (!isNaN(e.length)) {\n        var o = -1,\n          i = function next() {\n            for (; ++o < e.length;) if (n.call(e, o)) return next.value = e[o], next.done = !1, next;\n            return next.value = t, next.done = !0, next;\n          };\n        return i.next = i;\n      }\n    }\n    throw new TypeError(_typeof(e) + \" is not iterable\");\n  }\n  return GeneratorFunction.prototype = GeneratorFunctionPrototype, o(g, \"constructor\", {\n    value: GeneratorFunctionPrototype,\n    configurable: !0\n  }), o(GeneratorFunctionPrototype, \"constructor\", {\n    value: GeneratorFunction,\n    configurable: !0\n  }), GeneratorFunction.displayName = define(GeneratorFunctionPrototype, u, \"GeneratorFunction\"), e.isGeneratorFunction = function (t) {\n    var e = \"function\" == typeof t && t.constructor;\n    return !!e && (e === GeneratorFunction || \"GeneratorFunction\" === (e.displayName || e.name));\n  }, e.mark = function (t) {\n    return Object.setPrototypeOf ? Object.setPrototypeOf(t, GeneratorFunctionPrototype) : (t.__proto__ = GeneratorFunctionPrototype, define(t, u, \"GeneratorFunction\")), t.prototype = Object.create(g), t;\n  }, e.awrap = function (t) {\n    return {\n      __await: t\n    };\n  }, defineIteratorMethods(AsyncIterator.prototype), define(AsyncIterator.prototype, c, function () {\n    return this;\n  }), e.AsyncIterator = AsyncIterator, e.async = function (t, r, n, o, i) {\n    void 0 === i && (i = Promise);\n    var a = new AsyncIterator(wrap(t, r, n, o), i);\n    return e.isGeneratorFunction(r) ? a : a.next().then(function (t) {\n      return t.done ? t.value : a.next();\n    });\n  }, defineIteratorMethods(g), define(g, u, \"Generator\"), define(g, a, function () {\n    return this;\n  }), define(g, \"toString\", function () {\n    return \"[object Generator]\";\n  }), e.keys = function (t) {\n    var e = Object(t),\n      r = [];\n    for (var n in e) r.push(n);\n    return r.reverse(), function next() {\n      for (; r.length;) {\n        var t = r.pop();\n        if (t in e) return next.value = t, next.done = !1, next;\n      }\n      return next.done = !0, next;\n    };\n  }, e.values = values, Context.prototype = {\n    constructor: Context,\n    reset: function reset(e) {\n      if (this.prev = 0, this.next = 0, this.sent = this._sent = t, this.done = !1, this.delegate = null, this.method = \"next\", this.arg = t, this.tryEntries.forEach(resetTryEntry), !e) for (var r in this) \"t\" === r.charAt(0) && n.call(this, r) && !isNaN(+r.slice(1)) && (this[r] = t);\n    },\n    stop: function stop() {\n      this.done = !0;\n      var t = this.tryEntries[0].completion;\n      if (\"throw\" === t.type) throw t.arg;\n      return this.rval;\n    },\n    dispatchException: function dispatchException(e) {\n      if (this.done) throw e;\n      var r = this;\n      function handle(n, o) {\n        return a.type = \"throw\", a.arg = e, r.next = n, o && (r.method = \"next\", r.arg = t), !!o;\n      }\n      for (var o = this.tryEntries.length - 1; o >= 0; --o) {\n        var i = this.tryEntries[o],\n          a = i.completion;\n        if (\"root\" === i.tryLoc) return handle(\"end\");\n        if (i.tryLoc <= this.prev) {\n          var c = n.call(i, \"catchLoc\"),\n            u = n.call(i, \"finallyLoc\");\n          if (c && u) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          } else if (c) {\n            if (this.prev < i.catchLoc) return handle(i.catchLoc, !0);\n          } else {\n            if (!u) throw Error(\"try statement without catch or finally\");\n            if (this.prev < i.finallyLoc) return handle(i.finallyLoc);\n          }\n        }\n      }\n    },\n    abrupt: function abrupt(t, e) {\n      for (var r = this.tryEntries.length - 1; r >= 0; --r) {\n        var o = this.tryEntries[r];\n        if (o.tryLoc <= this.prev && n.call(o, \"finallyLoc\") && this.prev < o.finallyLoc) {\n          var i = o;\n          break;\n        }\n      }\n      i && (\"break\" === t || \"continue\" === t) && i.tryLoc <= e && e <= i.finallyLoc && (i = null);\n      var a = i ? i.completion : {};\n      return a.type = t, a.arg = e, i ? (this.method = \"next\", this.next = i.finallyLoc, y) : this.complete(a);\n    },\n    complete: function complete(t, e) {\n      if (\"throw\" === t.type) throw t.arg;\n      return \"break\" === t.type || \"continue\" === t.type ? this.next = t.arg : \"return\" === t.type ? (this.rval = this.arg = t.arg, this.method = \"return\", this.next = \"end\") : \"normal\" === t.type && e && (this.next = e), y;\n    },\n    finish: function finish(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.finallyLoc === t) return this.complete(r.completion, r.afterLoc), resetTryEntry(r), y;\n      }\n    },\n    \"catch\": function _catch(t) {\n      for (var e = this.tryEntries.length - 1; e >= 0; --e) {\n        var r = this.tryEntries[e];\n        if (r.tryLoc === t) {\n          var n = r.completion;\n          if (\"throw\" === n.type) {\n            var o = n.arg;\n            resetTryEntry(r);\n          }\n          return o;\n        }\n      }\n      throw Error(\"illegal catch attempt\");\n    },\n    delegateYield: function delegateYield(e, r, n) {\n      return this.delegate = {\n        iterator: values(e),\n        resultName: r,\n        nextLoc: n\n      }, \"next\" === this.method && (this.arg = t), y;\n    }\n  }, e;\n}\nmodule.exports = _regeneratorRuntime, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return (module.exports = _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, module.exports.__esModule = true, module.exports[\"default\"] = module.exports), _typeof(o);\n}\nmodule.exports = _typeof, module.exports.__esModule = true, module.exports[\"default\"] = module.exports;","// TODO(Babel 8): Remove this file.\n\nvar runtime = require(\"../helpers/regeneratorRuntime\")();\nmodule.exports = runtime;\n\n// Copied from https://github.com/facebook/regenerator/blob/main/packages/runtime/runtime.js#L736=\ntry {\n  regeneratorRuntime = runtime;\n} catch (accidentalStrictMode) {\n  if (typeof globalThis === \"object\") {\n    globalThis.regeneratorRuntime = runtime;\n  } else {\n    Function(\"r\", \"regeneratorRuntime = r\")(runtime);\n  }\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","function asyncGeneratorStep(n, t, e, r, o, a, c) {\n  try {\n    var i = n[a](c),\n      u = i.value;\n  } catch (n) {\n    return void e(n);\n  }\n  i.done ? t(u) : Promise.resolve(u).then(r, o);\n}\nfunction _asyncToGenerator(n) {\n  return function () {\n    var t = this,\n      e = arguments;\n    return new Promise(function (r, o) {\n      var a = n.apply(t, e);\n      function _next(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"next\", n);\n      }\n      function _throw(n) {\n        asyncGeneratorStep(a, r, o, _next, _throw, \"throw\", n);\n      }\n      _next(void 0);\n    });\n  };\n}\nexport { _asyncToGenerator as default };","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/app'];","/**\n * Simple resource loader based on David Walsh's tutorial\n * https://davidwalsh.name/javascript-loader\n * https://davidwalsh.name/javascript-functions\n */\nexport default (function() {\n    // Function which returns a function\n    function _load(tag) {\n        return function(url) {\n            // This promise will be used by Promise.all to determine success or failure\n            return new Promise(function(resolve, reject) {\n                var element = document.createElement(tag);\n                var parent = \"body\";\n                var attr = \"src\";\n\n                // Important success and error for the promise\n                element.onload = function() {\n                    resolve(url);\n                };\n                element.onerror = function() {\n                    reject(url);\n                };\n\n                // Need to set different attributes depending on tag type\n                switch (tag) {\n                    case \"script\":\n                        element.async = true;\n                        break;\n                    case \"link\":\n                        element.type = \"text/css\";\n                        element.rel = \"stylesheet\";\n                        attr = \"href\";\n                        parent = \"head\";\n                }\n\n                // Inject into document to kick off loading\n                element[attr] = url;\n                document[parent].appendChild(element);\n            });\n        };\n    }\n\n    return {\n        css: _load(\"link\"),\n        js: _load(\"script\"),\n        img: _load(\"img\")\n    };\n})();\n","export const playerData = {\r\n    url: \"https://cdn.staticfile.org/dplayer/1.27.1/DPlayer.min.js\",\r\n    loaded: false,\r\n};\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/CommentPost'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['common/extend'];","const __WEBPACK_NAMESPACE_OBJECT__ = flarum.core.compat['forum/components/Post'];","import app from \"flarum/forum/app\";\r\nimport load from \"external-load\";\r\nimport PDFObject from \"pdfobject\";\r\nimport { playerData } from \"./extensions\";\r\nimport CommentPost from \"flarum/forum/components/CommentPost\";\r\nimport { extend } from \"flarum/common/extend\";\r\nimport downloadButtonInteraction from \"./downloadButtonInteraction\";\r\n\r\nconst loadScript = async extension => {\r\n  if (extension.loaded) {\r\n    return;\r\n  }\r\n  await load.js(extension.url);\r\n\r\n  extension.loaded = true;\r\n};\r\n\r\nconst loadPlayer = async () => await loadScript(playerData);\r\n\r\nconst initPlayer = async () => await loadPlayer();\r\n\r\n/*const createPdfInstance = container => {\r\n  const pdfResUrl = container.dataset.url,\r\n    options = {\r\n      height: \"440px\",\r\n      fallbackLink: `<p>${app.translator.trans(\r\n        \"fof-upload-onedrive.forum.pdf.fallbackNotice1\"\r\n      )}: <a href='${pdfResUrl}'>${app.translator.trans(\r\n        \"fof-upload-onedrive.forum.pdf.fallbackNotice2\"\r\n      )}</a></p>`,\r\n    };\r\n\r\n  PDFObject.embed(pdfResUrl, container, options);\r\n};*/\r\n\r\napp.initializers.add(\"fof-upload-onedrive\", () => {\r\n  downloadButtonInteraction();\r\n\r\n  extend(CommentPost.prototype, \"refreshContent\", function() {\r\n    const dpContainers = this.element.querySelectorAll(\r\n        \".onedrive-dplayer-container\"\r\n      );\r\n\r\n    if (dpContainers.length) {\r\n      initPlayer()\r\n        .then(() => {\r\n          for (const i of dpContainers) {\r\n            if (i.children.length) {\r\n              continue;\r\n            }\r\n\r\n            new DPlayer({\r\n              container: i,\r\n              theme: \"#b7daff\",\r\n              preload: \"auto\",\r\n              volume: 0.7,\r\n              loop: false,\r\n              lang: navigator.language,\r\n              live: false,\r\n              mutex: true,\r\n              hotkey: true,\r\n              video: {\r\n                url: i.dataset.url,\r\n                type: \"auto\",\r\n              },\r\n              contextmenu: [\r\n                {\r\n                  text: \"FDTStudio Upload Onedrive\",\r\n                  link: \"https://github.com/FDT-Studio/fof-upload-onedrive\",\r\n                },\r\n              ],\r\n            });\r\n          }\r\n        })\r\n        .catch(err => console.log(err));\r\n    }\r\n\r\n    /*if (pdfContainers.length) {\r\n      for (const i of pdfContainers) {\r\n        if (i.children.length) continue;\r\n\r\n        createPdfInstance(i);\r\n      }\r\n    }*/\r\n  });\r\n});\r\n","import app from 'flarum/forum/app';\r\nimport {extend} from 'flarum/common/extend';\r\nimport Post from 'flarum/forum/components/Post';\r\n\r\n/* global $ */\r\n\r\nexport default function () {\r\n  extend(Post.prototype, 'oncreate', function () {\r\n    this.$('[data-fof-onedrive-upload-download-uuid]')\r\n      .unbind('click')\r\n      .on('click', (e) => {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n\r\n        if (!app.forum.attribute('fof-upload.canDownload')) {\r\n          alert(app.translator.trans('fof-upload.forum.states.unauthorized'));\r\n          return;\r\n        }\r\n\r\n        let url = app.forum.attribute('apiUrl') + '/fof-upload-onedrive/download';\r\n\r\n        url += '/' + encodeURIComponent(e.currentTarget.dataset.fofOnedriveUploadDownloadUuid);\r\n        url += '/' + encodeURIComponent(this.attrs.post.id());\r\n        url += '/' + encodeURIComponent(app.session.csrfToken);\r\n\r\n        window.open(url);\r\n      });\r\n  });\r\n}\r\n"],"names":["window","undefined","navigator","userAgent","win","nav","ua","suppressConsole","validateAX","type","ax","ActiveXObject","e","supportsPDFs","platform","maxTouchPoints","test","isChromium","isSafari","isFirefox","supportsPDFVE","pdfViewerEnabled","chrome","safari","vendor","Mozilla","checkSupport","embedError","msg","console","log","generatePDFObjectMarkup","embedType","targetNode","url","pdfOpenFragment","width","height","id","title","omitInlineStyles","customAttribute","PDFJS_URL","node","firstChild","removeChild","emptyNodeContents","source","connector","indexOf","encodeURIComponent","el","document","createElement","className","src","allow","frameborder","style","body","cssText","key","setAttribute","value","classList","add","appendChild","getElementsByTagName","embed","targetSelector","options","selector","opt","page","pdfOpenParams","fallbackLink","forcePDFJS","querySelector","jQuery","length","get","nodeType","getTargetElement","fallbackHTML_default","pdfParams","prop","string","paramArray","fdf","comment","viewrect","highlight","push","hasOwnProperty","join","buildURLFragmentString","innerHTML","replace","b64","filename","fallbackHTML","Blob","URL","createObjectURL","xhr","XMLHttpRequest","open","responseType","onload","status","blob","response","link","innerText","href","outerHTML","send","convertBase64ToDownloadableLink","a","b","c","pdfobjectversion","_typeof","require","_regeneratorRuntime","module","exports","__esModule","t","r","Object","prototype","n","o","defineProperty","i","Symbol","iterator","asyncIterator","u","toStringTag","define","enumerable","configurable","writable","wrap","Generator","create","Context","makeInvokeMethod","tryCatch","arg","call","h","l","f","s","y","GeneratorFunction","GeneratorFunctionPrototype","p","this","d","getPrototypeOf","v","values","g","defineIteratorMethods","forEach","_invoke","AsyncIterator","invoke","resolve","__await","then","callInvokeWithMethodAndArg","Error","done","method","delegate","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","TypeError","resultName","next","nextLoc","pushTryEntry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","resetTryEntry","completion","reset","isNaN","displayName","isGeneratorFunction","constructor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","keys","reverse","pop","prev","charAt","slice","stop","rval","handle","complete","finish","delegateYield","runtime","regeneratorRuntime","accidentalStrictMode","globalThis","Function","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","getter","definition","obj","asyncGeneratorStep","_asyncToGenerator","arguments","apply","_next","_throw","flarum","core","compat","_load","tag","reject","element","parent","attr","onerror","rel","css","js","img","playerData","loaded","loadScript","_ref","_callee","extension","_context","load","_x","loadPlayer","_ref2","_callee2","_context2","initPlayer","_ref3","_callee3","_context3","app","extend","Post","_this","$","unbind","on","preventDefault","stopPropagation","attribute","currentTarget","dataset","fofOnedriveUploadDownloadUuid","attrs","post","csrfToken","alert","trans","CommentPost","dpContainers","querySelectorAll","_step","_iterator","_createForOfIteratorHelperLoose","children","DPlayer","container","theme","preload","volume","loop","lang","language","live","mutex","hotkey","video","contextmenu","text","err"],"sourceRoot":""}